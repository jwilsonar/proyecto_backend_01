<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/producto.css">
</head>

<body class="bg-gray-100">
    <%- include('../includes/navigation.ejs') %>
    
    <main class="container mx-auto mt-5">
        <h1 class="text-xl font-semibold">Productos</h1>
        <% if (prods.length > 0) { %>
            <div class="flex gap-4">
                <% for (let producto of prods) { %>
                    <article class="bg-white shadow-lg rounded-lg overflow-hidden transition-transform transform hover:scale-105 w-[250px]">
                        <header class="bg-gray-100 p-4">
                            <h1 class="text-xl font-semibold text-gray-800 truncate"><%= producto.nombre %></h1>
                        </header>
                        <div class="card__image">
                            <img src="<%= producto.urlImagen %>" alt="<%= producto.nombre %>" class="w-full h-48 object-cover">
                        </div>
                        <div class="p-4">
                            <h2 class="text-lg font-bold text-gray-900">S/<%= producto.precio %></h2>
                            <p class="text-gray-600 mt-1 line-clamp-3"><%= producto.descripcion %></p>
                        </div>
                        <div class="flex justify-between items-center p-4 border-t border-gray-200">
                            <a href="/admin/editar-producto/<%= producto.id %>?editar=true" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors">Editar</a>
                            <form action="/admin/eliminar-producto" method="POST">
                                <input type="hidden" value="<%= producto.id %>" name="idProducto">
                                <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors" type="submit">Eliminar</button>
                            </form>
                        </div>
                    </article>
                    
                <% } %>
            </div>
        <% } else { %>
            <h1>No hay productos</h1>
        <% } %>
    </main>
    
<%- include('../includes/end.ejs') %>